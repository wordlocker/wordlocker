(function(){var e={3393:function(e,t,n){"use strict";var r=n(9242),o=n(3396);const a={key:0},l={class:"bottom"},s={key:1};function i(e,t,n,r,i,c){const u=(0,o.up)("GameLine"),d=(0,o.up)("GameKeyboard"),h=(0,o.up)("GameResult"),p=(0,o.up)("WordGenerator");return c.isStarted()?((0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.getLinesForUser(),((e,t)=>((0,o.wg)(),(0,o.j4)(u,(0,o.dG)({key:t,index:t},e),null,16,["index"])))),128))]),(0,o._)("div",l,[e.decryptedResult?((0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(h,{decryptedResult:e.decryptedResult},null,8,["decryptedResult"])])):((0,o.wg)(),(0,o.j4)(d,{key:0,buttons:c.resolveButtonsForKeyboard(),onAddChar:t[0]||(t[0]=e=>c.addChar(e)),onDelChar:t[1]||(t[1]=e=>c.delChar()),onSubmitLine:t[2]||(t[2]=e=>c.submitLine())},null,8,["buttons"]))])])):((0,o.wg)(),(0,o.j4)(p,{key:1}))}var c=n(7139);function u(e,t,n,r,a,l){const s=(0,o.up)("GameLetter");return(0,o.wg)(),(0,o.iD)("div",{class:"line",style:(0,c.j5)({opacity:l.getOpacity()})},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.letters,((e,t)=>((0,o.wg)(),(0,o.j4)(s,(0,o.dG)({key:t},e),null,16)))),128))],4)}function d(e,t,n,r,a,l){return(0,o.wg)(),(0,o.iD)("span",{class:(0,c.C_)(["box",{"box-correct":n.correct,"box-warning":n.warning}])},(0,c.zw)(n.char),3)}var h={name:"GameLetter",props:{char:String,correct:Boolean,warning:Boolean}},p=n(89);const g=(0,p.Z)(h,[["render",d],["__scopeId","data-v-125a2e51"]]);var f=g,w={name:"GameLine",components:{GameLetter:f},props:{index:Number,letters:String},methods:{getOpacity(){return 1-.3*this.index}}};const v=(0,p.Z)(w,[["render",u],["__scopeId","data-v-78334c02"]]);var y=v;function b(e,t,n,r,a,l){const s=(0,o.up)("KeyboardButton");return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.buttons,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"button-row",key:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.buttons,((e,t)=>((0,o.wg)(),(0,o.j4)(s,(0,o.dG)({key:t},e,{onClick:t=>l.pressButton(e)}),null,16,["onClick"])))),128))])))),128)}function m(e,t,n,r,a,l){return(0,o.wg)(),(0,o.iD)("a",{class:(0,c.C_)(["button",{"button-correct":n.correct,"button-warning":n.warning&&!n.correct}])},(0,c.zw)(n.label),3)}var C={name:"KeyboardButton",props:{type:String,label:String,correct:Boolean,warning:Boolean}};const x=(0,p.Z)(C,[["render",m],["__scopeId","data-v-5514bb5b"]]);var _=x,k={name:"GameKeyboard",props:{buttons:Array},components:{KeyboardButton:_},methods:{pressButton(e){"done"===e.type?this.$emit("submitLine"):"del"===e.type?this.$emit("delChar"):this.$emit("addChar",e.label)}}};const L=(0,p.Z)(k,[["render",b],["__scopeId","data-v-370d2b7d"]]);var R=L,G=n(3021),O=n.n(G),S=new class{isCharAllowed(e){let t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];return-1!==t.indexOf(e)}},H=new class{addChar(e,t,n){t[t.length-1].length>=n||(t[t.length-1]+=e)}delChar(e){0!==e[e.length-1].length&&(e[e.length-1]=e[e.length-1].slice(0,e[e.length-1].length-1))}},D=new class{resolveButtons(e,t){let n=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],r=[];return n.forEach(((n,o)=>{let a={buttons:[]};2===o&&a.buttons.push({type:"done",label:"✔️",correct:!1,warning:!1}),n.forEach((n=>{a.buttons.push({type:"char",label:n,correct:-1!==e.indexOf(n),warning:-1!==t.indexOf(n)})})),2===o&&a.buttons.push({type:"del",label:"←",correct:!1,warning:!1}),r.push(a)})),r}},U=n(8082),B=n.n(U),E=new class{generateHash(e,t,n){return console.log(e,t,n),B().SHA256(e+t+n).toString()}},K=new class{isCharCorrect(e,t,n,r){let o=new URLSearchParams(window.location.search).get("h");return n[t]===E.generateHash(e,t+1,o)&&(-1===r.indexOf(e)&&r.push(e),!0)}isCharWarning(e,t,n,r,o){let a=new URLSearchParams(window.location.search).get("h"),l=!1,s=[];return n.forEach(((t,n)=>{t===E.generateHash(e,n+1,a)&&(l=!0,s.push(n))})),!(!l||!this.checkWarningOccurency(r,e,t,s))&&(-1===o.indexOf(e)&&o.push(e),!0)}checkWarningOccurency(e,t,n,r){let o=0;return e.forEach(((e,a)=>{e===t&&(a<=n||-1!==r.indexOf(a))&&o++})),o<=r.length}},W=new class{resolveLines(e,t,n,r,o){let a=[];for(let l=e.length-1;l>=0&&l>=e.length-4;l--){let s=e[l],i=l<e.length-1||o,c={letters:[]},u=s.split("");for(let e=0;e<t.length;e++)if(void 0===u[e])c.letters.push({char:null,correct:!1,warning:!1});else if(i){let o=K.isCharCorrect(u[e],e,t,n);c.letters.push({char:u[e],correct:o,warning:!o&&K.isCharWarning(u[e],e,t,u,r)})}else c.letters.push({char:u[e],correct:!1,warning:!1});a.push(c)}return a}},j=new class{resolveHashes(){let e=new URLSearchParams(window.location.search),t=[];for(let n=1;n<=10;n++){if(!e.has(n.toString()))return t;t.push(e.get(n.toString()))}return t}},I=new class{tryDecryptResult(e,t){if(e[e.length-1].length!==j.resolveHashes().length)return null;let n=!0;if(e[e.length-1].split("").forEach(((e,r)=>{K.isCharCorrect(e,r,j.resolveHashes(),t)||(n=!1)})),n){let t=new URLSearchParams(window.location.search).get("h");return B().AES.decrypt(t,e[e.length-1]).toString(B().enc.Utf8)}return null}},A=new class{submitLine(e,t,n){if(t[t.length-1].length!==j.resolveHashes().length)return null;let r=I.tryDecryptResult(t,n);return null===r&&t.push(""),r}};const Z=["value"];function P(e,t,n,r,a,l){return(0,o.wg)(),(0,o.iD)("textarea",{class:"textarea-result",readonly:"",value:n.decryptedResult,onClick:t[0]||(t[0]=e=>this.select())},"\n    ",8,Z)}var T={name:"GameResult",props:{decryptedResult:String}};const F=(0,p.Z)(T,[["render",P],["__scopeId","data-v-8544ec48"]]);var Y=F;const N=e=>((0,o.dD)("data-v-7d307a67"),e=e(),(0,o.Cn)(),e),V=N((()=>(0,o._)("label",{for:"word"},"Guessed Word:",-1))),M=N((()=>(0,o._)("br",null,null,-1))),$=N((()=>(0,o._)("label",{for:"encryptedText"},"Encrypted Text:",-1))),z=N((()=>(0,o._)("br",null,null,-1))),J=N((()=>(0,o._)("label",{for:"generatedUrl"},"Generated Url:",-1))),Q=N((()=>(0,o._)("br",null,null,-1))),X=["value"];function q(e,t,n,a,l,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",null,[V,M,(0,o.wy)((0,o._)("input",{name:"word",type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.word=t)},null,512),[[r.nr,e.word]])]),(0,o._)("div",null,[$,z,(0,o.wy)((0,o._)("textarea",{name:"encryptedText","onUpdate:modelValue":t[1]||(t[1]=t=>e.text=t)},"\n    ",512),[[r.nr,e.text]])]),(0,o._)("div",null,[J,Q,(0,o._)("textarea",{name:"generatedUrl",value:s.getLink(),readonly:""},"\n    ",8,X)])],64)}var ee={name:"GameLetter",data:function(){return{word:"TIGER",text:"N 50°6.98502', E 14°24.20510'"}},methods:{getLink(){let e=this.getHash(),t="?h="+encodeURIComponent(e);this.word.split("").forEach(((n,r)=>{t+="&"+(r+1)+"="+encodeURIComponent(E.generateHash(n,r+1,e))}));let n=location.protocol+"//"+location.host+location.pathname+t;return n},getHash(){return B().AES.encrypt(this.text,this.word).toString()}}};const te=(0,p.Z)(ee,[["render",q],["__scopeId","data-v-7d307a67"]]);var ne=te,re={name:"App",components:{GameLine:y,GameKeyboard:R,GameResult:Y,WordGenerator:ne},created(){window.addEventListener("keydown",(e=>{if("Backspace"===e.key)return void(null===this.decryptedResult&&this.delChar());if("Enter"===e.key)return void this.submitLine();let t=O()(e.key).toUpperCase();S.isCharAllowed(t)&&this.addChar(t)}))},data:function(){return{decryptedResult:null,lines:[""],charsCorrect:[],charsWarning:[]}},methods:{submitLine(){this.decryptedResult=A.submitLine(this.decryptedResult,this.lines,this.charsCorrect)},addChar(e){H.addChar(e,this.lines,j.resolveHashes().length)},delChar(){H.delChar(this.lines)},getLinesForUser(){return W.resolveLines(this.lines,j.resolveHashes(),this.charsCorrect,this.charsWarning,null!==this.decryptedResult)},resolveButtonsForKeyboard(){return D.resolveButtons(this.charsCorrect,this.charsWarning)},isStarted(){return j.resolveHashes().length>0}}};const oe=(0,p.Z)(re,[["render",i]]);var ae=oe;(0,r.ri)(ae).mount("#app")},2480:function(){}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var l=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],a=e[u][2];for(var s=!0,i=0;i<r.length;i++)(!1&a||l>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[i])}))?r.splice(i--,1):(s=!1,a<l&&(l=a));if(s){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,l=r[0],s=r[1],i=r[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(i)var u=i(n)}for(t&&t(r);c<l.length;c++)a=l[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=self["webpackChunkwordlocker"]=self["webpackChunkwordlocker"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(3393)}));r=n.O(r)})();
//# sourceMappingURL=app.9091d591.js.map